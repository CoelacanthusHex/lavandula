/**
 * =============================================================================
 * ************   Expansion panel 可扩展面板   ************
 * =============================================================================
 */

/* 可扩展面板 */
.lavandula-panel {
  box-sizing: border-box;
  width: 100%;
}

/* 面板项 */
.lavandula-panel-item {
  background-color: #fff;
  color: @color-black-text;
  .lavandula-divider-bottom-dark();
  will-change: margin;
  transition: margin .3s @animation-curve-default;
  .lavandula-shadow(2);

  &:last-child {
    border-bottom: none;
  }
}

/* 面板头部 */
.lavandula-panel-item-header {
  display: flex;
  align-items: center;
  box-sizing: border-box;
  position: relative;
  width: 100%;
  height: 48px;
  padding: 0 24px;
  font-size: 15px;
  cursor: pointer;
  will-change: height, background-color;
  transition: all .3s @animation-curve-default;
  .lavandula-text-truncate();

  &:active {
    background-color: @color-grey-200;
  }
}

/* 面板项标题 */
.lavandula-panel-item-title {
  box-sizing: border-box;
  width: 36%;
  min-width: 36%;
  font-weight: 500;
  padding-right: 16px;
  .lavandula-text-truncate();
}

/* 面板项内容 */
.lavandula-panel-item-summary {
  flex-grow: 1;
  box-sizing: border-box;
  padding-right: 16px;
  color: @color-black-secondary;
  .lavandula-text-truncate();
}

/* 展开收起的图标 */
.lavandula-panel-item-arrow {
  position: absolute;
  right: 24px;
  top: 12px;
  color: @color-black-icon;
  user-select: none;
  will-change: transform, top;
  transform: rotate(0);
  transition: all .3s @animation-curve-default;
}

.lavandula-panel-item-summary + .lavandula-panel-item-arrow {
  position: relative;
  right: 0;
  top: 0 !important;
}

/* 面板项内容 */
.lavandula-panel-item-body {
  padding: 0 24px;
  height: 0;
  overflow: hidden;
  .lavandula-clearfix();
  will-change: height;
  transition: height .3s @animation-curve-default;

  &:after {
    height: 16px;
  }
}

/* 面板项操作栏 */
.lavandula-panel-item-actions {
  display: block;
  width: 100%;
  text-align: right;
  margin: 16px -24px 0 -24px;
  padding: 16px 24px 0 24px;
  .lavandula-divider-top-dark();

  .lavandula-btn {
    margin-left: 8px;

    &:first-child {
      margin-left: 0;
    }
  }
}

/* 使打开项上下没有边距 */
.lavandula-panel-gapless {
  .lavandula-shadow(2);

  .lavandula-panel-item {
    .lavandula-shadow(0);
  }

  .lavandula-panel-item-open {
    margin-top: 0;
    margin-bottom: 0;
  }
}

/* 弹出面板 */
.lavandula-panel-popout {
  .lavandula-panel-item-open {
    margin-left: -16px;
    margin-right: -16px;
  }
}

/* 打开状态的面板项 */
.lavandula-panel-item-open {
  height: auto;
  margin-top: 16px;
  margin-bottom: 16px;

  // 打开状态的面板头部更高
  &>.lavandula-panel-item-header {
    height: 64px;

    .lavandula-panel-item-arrow {
      transform: rotate(180deg);
      top: 20px;
    }
  }

  &>.lavandula-panel-item-body {
    height: auto;
  }
}


/**
 * =============================================================================
 * ************   Expansion panel dark   ************
 * =============================================================================
 */
.lavandula-theme-layout-dark when (@globalLayoutDark = true) {
  .lavandula-panel-item {
    background-color: @layout-dark-color-3;
    color: #fff;
    .lavandula-divider-bottom-light();

    &:last-child {
      border-bottom: none;
    }
  }
  .lavandula-panel-item-header {
    &:active {
      background-color: @color-grey-800;
    }
  }
  .lavandula-panel-item-summary {
    color: @color-white-secondary;
  }
  .lavandula-panel-item-arrow {
    color: @color-white-icon;
  }
  .lavandula-panel-item-actions {
    .lavandula-divider-top-light();
  }
}